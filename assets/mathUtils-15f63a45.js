function $(){return[0,0,0]}function rr(r){return[r[0],r[1],r[2]]}function m(r,n,e){return[r,n,e]}function nr(r){const n=$(),e=Math.min(3,r.length);for(let u=0;u<e;++u)n[u]=r[u];return n}function er(r,n){return new Float64Array(r,n,3)}function F(){return $()}function N(){return m(1,1,1)}function w(){return m(1,0,0)}function z(){return m(0,1,0)}function T(){return m(0,0,1)}const ur=F(),or=N(),tr=w(),sr=z(),ir=T();Object.freeze(Object.defineProperty({__proto__:null,ONES:or,UNIT_X:tr,UNIT_Y:sr,UNIT_Z:ir,ZEROS:ur,clone:rr,create:$,createView:er,fromArray:nr,fromValues:m,ones:N,unitX:w,unitY:z,unitZ:T,zeros:F},Symbol.toStringTag,{value:"Module"}));let v=1e-6;function E(){return v}function cr(r){v=r}const I=Math.random,ar=Math.PI/180,fr=180/Math.PI;function hr(r){return r*ar}function Mr(r){return r*fr}function lr(r,n){return Math.abs(r-n)<=v*Math.max(1,Math.abs(r),Math.abs(n))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:I,equals:lr,getEpsilon:E,setEpsilon:cr,toDegree:Mr,toRadian:hr},Symbol.toStringTag,{value:"Module"}));function O(r){const n=r[0],e=r[1],u=r[2];return Math.sqrt(n*n+e*e+u*u)}function p(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r}function D(r,n,e,u){return r[0]=n,r[1]=e,r[2]=u,r}function $r(r,n,e){return r[0]=n[0]+e[0],r[1]=n[1]+e[1],r[2]=n[2]+e[2],r}function B(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r}function L(r,n,e){return r[0]=n[0]*e[0],r[1]=n[1]*e[1],r[2]=n[2]*e[2],r}function R(r,n,e){return r[0]=n[0]/e[0],r[1]=n[1]/e[1],r[2]=n[2]/e[2],r}function mr(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r}function br(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r}function dr(r,n){return r[0]=Math.abs(n[0]),r[1]=Math.abs(n[1]),r[2]=Math.abs(n[2]),r}function gr(r,n){return r[0]=Math.sign(n[0]),r[1]=Math.sign(n[1]),r[2]=Math.sign(n[2]),r}function xr(r,n,e){return r[0]=Math.min(n[0],e[0]),r[1]=Math.min(n[1],e[1]),r[2]=Math.min(n[2],e[2]),r}function qr(r,n,e){return r[0]=Math.max(n[0],e[0]),r[1]=Math.max(n[1],e[1]),r[2]=Math.max(n[2],e[2]),r}function _r(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r}function pr(r,n,e){return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r}function yr(r,n,e,u){return r[0]=n[0]+e[0]*u,r[1]=n[1]+e[1]*u,r[2]=n[2]+e[2]*u,r}function Z(r,n){const e=n[0]-r[0],u=n[1]-r[1],o=n[2]-r[2];return Math.sqrt(e*e+u*u+o*o)}function U(r,n){const e=n[0]-r[0],u=n[1]-r[1],o=n[2]-r[2];return e*e+u*u+o*o}function X(r){const n=r[0],e=r[1],u=r[2];return n*n+e*e+u*u}function vr(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r}function Er(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r}function y(r,n){const e=n[0],u=n[1],o=n[2];let t=e*e+u*u+o*o;return t>0&&(t=1/Math.sqrt(t),r[0]=n[0]*t,r[1]=n[1]*t,r[2]=n[2]*t),r}function Y(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function Ir(r,n,e){const u=n[0],o=n[1],t=n[2],s=e[0],i=e[1],c=e[2];return r[0]=o*c-t*i,r[1]=t*s-u*c,r[2]=u*i-o*s,r}function Or(r,n,e,u){const o=n[0],t=n[1],s=n[2];return r[0]=o+u*(e[0]-o),r[1]=t+u*(e[1]-t),r[2]=s+u*(e[2]-s),r}function Pr(r,n,e,u,o,t){const s=t*t,i=s*(2*t-3)+1,c=s*(t-2)+t,a=s*(t-1),f=s*(3-2*t);return r[0]=n[0]*i+e[0]*c+u[0]*a+o[0]*f,r[1]=n[1]*i+e[1]*c+u[1]*a+o[1]*f,r[2]=n[2]*i+e[2]*c+u[2]*a+o[2]*f,r}function Sr(r,n,e,u,o,t){const s=1-t,i=s*s,c=t*t,a=i*s,f=3*t*i,h=3*c*s,M=c*t;return r[0]=n[0]*a+e[0]*f+u[0]*h+o[0]*M,r[1]=n[1]*a+e[1]*f+u[1]*h+o[1]*M,r[2]=n[2]*a+e[2]*f+u[2]*h+o[2]*M,r}function Ar(r,n){n=n||1;const e=I,u=2*e()*Math.PI,o=2*e()-1,t=Math.sqrt(1-o*o)*n;return r[0]=Math.cos(u)*t,r[1]=Math.sin(u)*t,r[2]=o*n,r}function jr(r,n,e){const u=n[0],o=n[1],t=n[2];return r[0]=e[0]*u+e[4]*o+e[8]*t+e[12],r[1]=e[1]*u+e[5]*o+e[9]*t+e[13],r[2]=e[2]*u+e[6]*o+e[10]*t+e[14],r}function Fr(r,n,e){const u=n[0],o=n[1],t=n[2];return r[0]=u*e[0]+o*e[3]+t*e[6],r[1]=u*e[1]+o*e[4]+t*e[7],r[2]=u*e[2]+o*e[5]+t*e[8],r}function Nr(r,n,e){const u=e[0],o=e[1],t=e[2],s=e[3],i=n[0],c=n[1],a=n[2];let f=o*a-t*c,h=t*i-u*a,M=u*c-o*i,l=o*M-t*h,P=t*f-u*M,S=u*h-o*f;const x=2*s;return f*=x,h*=x,M*=x,l*=2,P*=2,S*=2,r[0]=i+f+l,r[1]=c+h+P,r[2]=a+M+S,r}function wr(r,n,e,u){const o=[],t=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],t[0]=o[0],t[1]=o[1]*Math.cos(u)-o[2]*Math.sin(u),t[2]=o[1]*Math.sin(u)+o[2]*Math.cos(u),r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function zr(r,n,e,u){const o=[],t=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],t[0]=o[2]*Math.sin(u)+o[0]*Math.cos(u),t[1]=o[1],t[2]=o[2]*Math.cos(u)-o[0]*Math.sin(u),r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function Tr(r,n,e,u){const o=[],t=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],t[0]=o[0]*Math.cos(u)-o[1]*Math.sin(u),t[1]=o[0]*Math.sin(u)+o[1]*Math.cos(u),t[2]=o[2],r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function Dr(r,n){p(b,r),p(d,n),y(b,b),y(d,d);const e=Y(b,d);return e>1?0:e<-1?Math.PI:Math.acos(e)}const b=$(),d=$();function Br(r){return"vec3("+r[0]+", "+r[1]+", "+r[2]+")"}function Lr(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]}function Rr(r,n){if(r===n)return!0;const e=r[0],u=r[1],o=r[2],t=n[0],s=n[1],i=n[2],c=E();return Math.abs(e-t)<=c*Math.max(1,Math.abs(e),Math.abs(t))&&Math.abs(u-s)<=c*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-i)<=c*Math.max(1,Math.abs(o),Math.abs(i))}function Zr(r,n,e){const u=e[0]-n[0],o=e[1]-n[1],t=e[2]-n[2];let s=u*u+o*o+t*t;return s>0?(s=1/Math.sqrt(s),r[0]=u*s,r[1]=o*s,r[2]=t*s,r):(r[0]=0,r[1]=0,r[2]=0,r)}const Ur=B,Xr=L,Yr=R,Qr=Z,Vr=U,kr=O,Cr=X;Object.freeze(Object.defineProperty({__proto__:null,abs:dr,add:$r,angle:Dr,bezier:Sr,ceil:mr,copy:p,cross:Ir,direction:Zr,dist:Qr,distance:Z,div:Yr,divide:R,dot:Y,equals:Rr,exactEquals:Lr,floor:br,hermite:Pr,inverse:Er,len:kr,length:O,lerp:Or,max:qr,min:xr,mul:Xr,multiply:L,negate:vr,normalize:y,random:Ar,rotateX:wr,rotateY:zr,rotateZ:Tr,round:_r,scale:pr,scaleAndAdd:yr,set:D,sign:gr,sqrDist:Vr,sqrLen:Cr,squaredDistance:U,squaredLength:X,str:Br,sub:Ur,subtract:B,transformMat3:Fr,transformMat4:jr,transformQuat:Nr},Symbol.toStringTag,{value:"Module"}));function Gr(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}function Jr(r,n,e,u,o){return r[0]=n,r[1]=e,r[2]=u,r[3]=o,r}function Kr(r,n,e){return r[0]=n[0]+e[0],r[1]=n[1]+e[1],r[2]=n[2]+e[2],r[3]=n[3]+e[3],r}function Q(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r[3]=n[3]-e[3],r}function V(r,n,e){return r[0]=n[0]*e[0],r[1]=n[1]*e[1],r[2]=n[2]*e[2],r[3]=n[3]*e[3],r}function k(r,n,e){return r[0]=n[0]/e[0],r[1]=n[1]/e[1],r[2]=n[2]/e[2],r[3]=n[3]/e[3],r}function Hr(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r[3]=Math.ceil(n[3]),r}function Wr(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r[3]=Math.floor(n[3]),r}function rn(r,n,e){return r[0]=Math.min(n[0],e[0]),r[1]=Math.min(n[1],e[1]),r[2]=Math.min(n[2],e[2]),r[3]=Math.min(n[3],e[3]),r}function nn(r,n,e){return r[0]=Math.max(n[0],e[0]),r[1]=Math.max(n[1],e[1]),r[2]=Math.max(n[2],e[2]),r[3]=Math.max(n[3],e[3]),r}function en(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r[3]=Math.round(n[3]),r}function un(r,n,e){return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r[3]=n[3]*e,r}function on(r,n,e,u){return r[0]=n[0]+e[0]*u,r[1]=n[1]+e[1]*u,r[2]=n[2]+e[2]*u,r[3]=n[3]+e[3]*u,r}function C(r,n){const e=n[0]-r[0],u=n[1]-r[1],o=n[2]-r[2],t=n[3]-r[3];return Math.sqrt(e*e+u*u+o*o+t*t)}function G(r,n){const e=n[0]-r[0],u=n[1]-r[1],o=n[2]-r[2],t=n[3]-r[3];return e*e+u*u+o*o+t*t}function J(r){const n=r[0],e=r[1],u=r[2],o=r[3];return Math.sqrt(n*n+e*e+u*u+o*o)}function K(r){const n=r[0],e=r[1],u=r[2],o=r[3];return n*n+e*e+u*u+o*o}function tn(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=-n[3],r}function sn(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r[3]=1/n[3],r}function cn(r,n){const e=n[0],u=n[1],o=n[2],t=n[3];let s=e*e+u*u+o*o+t*t;return s>0&&(s=1/Math.sqrt(s),r[0]=e*s,r[1]=u*s,r[2]=o*s,r[3]=t*s),r}function an(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]*n[3]}function fn(r,n,e,u){const o=n[0],t=n[1],s=n[2],i=n[3];return r[0]=o+u*(e[0]-o),r[1]=t+u*(e[1]-t),r[2]=s+u*(e[2]-s),r[3]=i+u*(e[3]-i),r}function hn(r,n){const e=I;let u,o,t,s,i,c;n=n||1;do u=2*e()-1,o=2*e()-1,i=u*u+o*o;while(i>=1);do t=2*e()-1,s=2*e()-1,c=t*t+s*s;while(c>=1);const a=Math.sqrt((1-i)/c);return r[0]=n*u,r[1]=n*o,r[2]=n*t*a,r[3]=n*s*a,r}function Mn(r,n,e){const u=n[0],o=n[1],t=n[2],s=n[3];return r[0]=e[0]*u+e[4]*o+e[8]*t+e[12]*s,r[1]=e[1]*u+e[5]*o+e[9]*t+e[13]*s,r[2]=e[2]*u+e[6]*o+e[10]*t+e[14]*s,r[3]=e[3]*u+e[7]*o+e[11]*t+e[15]*s,r}function ln(r,n,e){const u=n[0],o=n[1],t=n[2],s=e[0],i=e[1],c=e[2],a=e[3],f=a*u+i*t-c*o,h=a*o+c*u-s*t,M=a*t+s*o-i*u,l=-s*u-i*o-c*t;return r[0]=f*a+l*-s+h*-c-M*-i,r[1]=h*a+l*-i+M*-s-f*-c,r[2]=M*a+l*-c+f*-i-h*-s,r[3]=n[3],r}function $n(r){return"vec4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}function mn(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]}function bn(r,n){const e=r[0],u=r[1],o=r[2],t=r[3],s=n[0],i=n[1],c=n[2],a=n[3],f=E();return Math.abs(e-s)<=f*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(u-i)<=f*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-c)<=f*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(t-a)<=f*Math.max(1,Math.abs(t),Math.abs(a))}const dn=Q,gn=V,xn=k,qn=C,_n=G,pn=J,yn=K;Object.freeze(Object.defineProperty({__proto__:null,add:Kr,ceil:Hr,copy:Gr,dist:qn,distance:C,div:xn,divide:k,dot:an,equals:bn,exactEquals:mn,floor:Wr,inverse:sn,len:pn,length:J,lerp:fn,max:nn,min:rn,mul:gn,multiply:V,negate:tn,normalize:cn,random:hn,round:en,scale:un,scaleAndAdd:on,set:Jr,sqrDist:_n,sqrLen:yn,squaredDistance:G,squaredLength:K,str:$n,sub:dn,subtract:Q,transformMat4:Mn,transformQuat:ln},Symbol.toStringTag,{value:"Module"}));const A=new Float32Array(1);function Pn(r){--r;for(let n=1;n<32;n<<=1)r|=r>>n;return r+1}function H(r,n,e){return Math.min(Math.max(r,n),e)}function Sn(r){return(r&r-1)==0}function An(r){return r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,++r}function jn(r,n,e){return r+(n-r)*e}function Fn(r){return r*Math.PI/180}function Nn(r){return 180*r/Math.PI}function wn(r){return Math.acos(H(r,-1,1))}function vn(r){return Math.asin(H(r,-1,1))}function q(r,n,e=1e-6){return r===n?!0:!Number.isFinite(r)||!Number.isFinite(n)?!1:(r>n?r-n:n-r)<=e}const g=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function En(r){return g.setFloat64(0,r),g.getBigInt64(0)}function In(r){return g.setBigInt64(0,r),g.getFloat64(0)}const _=BigInt("1000000");On(1);function On(r){const n=En(r=Math.abs(r)),e=In(n<=_?_:n-_);return Math.abs(r-e)}function zn(r,n,e=1e-6){if(r===n)return!0;if(!Number.isFinite(r)||!Number.isFinite(n))return!1;const u=Math.abs(r-n),o=Math.abs(r),t=Math.abs(n);if(r===0||n===0||o<1e-12&&t<1e-12){if(u>.01*e)return!1}else if(u/(o+t)>e)return!1;return!0}function Tn(r){return W(Math.max(-j,Math.min(r,j)))}function W(r){return A[0]=r,A[0]}function Dn(r,n){const e=O(r),u=vn(r[2]/e),o=Math.atan2(r[1]/e,r[0]/e);return D(n,e,u,o),n}function Bn(r){const n=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],e=r[3]*r[3]+r[4]*r[4]+r[5]*r[5],u=r[6]*r[6]+r[7]*r[7]+r[8]*r[8];return!(q(n,1)&&q(e,1)&&q(u,1))}const j=W(34028234663852886e22);export{Mr as $,Tn as A,Gr as B,Kr as C,j as D,un as E,Lr as F,an as G,Zr as H,J as I,K as J,cn as K,mn as L,bn as M,vn as N,jr as O,Y as P,Nr as Q,U as R,Fr as S,Or as T,yr as U,X as V,er as W,Dn as X,kr as Y,ur as Z,Ir as _,H as a,jn as a0,R as a1,nr as a2,L as a3,Qr as a4,Bn as a5,Nn as b,E as c,I as d,m as e,q as f,pr as g,zn as h,p as i,fn as j,B as k,or as l,Fn as m,$ as n,Sn as o,D as p,An as q,hr as r,O as s,wn as t,$r as u,Jr as v,Pn as w,Z as x,rr as y,y as z};
