import{U as l}from"./request-ae7029ea.js";import{b as S}from"./ensureType-125d327f.js";import{c as f}from"./jsonUtils-15ca15d7.js";import{f as d,i as h}from"./utils-19aa96f8.js";import{o as g}from"./utils-067ee6bc.js";import{e as i,y as s,a as y}from"./Accessor-815cb0cf.js";import{l as R}from"./JSONSupport-2b897629.js";import"./typedArrayUtil-74bbfd45.js";let o=class extends R{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(a=>a.toJSON()),e=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:f(e),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};i([s()],o.prototype,"geometries",void 0),i([s({json:{read:{source:"outSR"}}})],o.prototype,"outSpatialReference",void 0),i([s()],o.prototype,"transformation",void 0),i([s()],o.prototype,"transformForward",void 0),o=i([y("esri.rest.support.ProjectParameters")],o);const J=o,N=S(J);async function U(n,t,e){t=N(t);const r=d(n),a={...r.query,f:"json",...t.toJSON()},m=t.outSpatialReference,p=f(t.geometries[0]),c=h(a,e);return l(r.path+"/project",c).then(({data:{geometries:u}})=>g(u,p,m))}export{J as a,U as n};
